# Enable USB and basic input
CONFIG_ZMK_USB=y
CONFIG_ZMK_INPUT=y

# Enable direct GPIO key scanning
CONFIG_ZMK_KSCAN_GPIO_DIRECT=y

# USB HID support
CONFIG_USB_DEVICE_STACK=y
CONFIG_USB_DEVICE_PRODUCT="Macropadv2"
CONFIG_USB_HID=y
CONFIG_USB_HID_BOOT_PROTOCOL=n

# Enable Keyboard Studio compatibility
CONFIG_ZMK_RPC=y
CONFIG_ZMK_RPC_USB_TRANSPORT=y
CONFIG_ZMK_STUDIO_PROFILE=y

# Logging (optional but helpful for debugging)
CONFIG_LOG=y
CONFIG_LOG_MODE_DEFERRED=y
CONFIG_LOG_BACKEND_RTT=n
CONFIG_LOG_BACKEND_USB=y
CONFIG_USB_DEVICE_STACK_LOG_LEVEL_DBG=y

# Reduce flash usage (optional)
CONFIG_USB_HID_REPORT_IDLE=n
CONFIG_USB_HID_REPORT_REPEAT_DELAY=0

# Key behavior system
CONFIG_ZMK_BEHAVIOR_HOLD_TAP=y
CONFIG_ZMK_BEHAVIOR_MACRO=y
CONFIG_ZMK_KEYMAP=y